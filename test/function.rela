
function abc(a)
	b=2
	assert(a == 1)
	assert(b == 2)
end

abc(1)
assert(global.a == nil)
assert(global.b == nil)

function outer()
	function inner()
		return 1
	end
	function inner2()
		function inner3()
			return inner()+1
		end
		return inner3()+1
	end
	assert(inner)
	assert(inner() == 1)
	assert(inner2() == 3)
end

assert(global.inner == nil)

outer()
